
<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>WebRTC API Reference</title>

    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .gh {
  color: #999999;
}
.highlight .sr {
  color: #f6aa11;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .nb {
  color: #f6aa11;
}
.highlight .cm {
  color: #75715e;
}
.highlight .cp {
  color: #75715e;
}
.highlight .c1 {
  color: #75715e;
}
.highlight .cs {
  color: #75715e;
}
.highlight .c, .highlight .cd {
  color: #75715e;
}
.highlight .err {
  color: #960050;
}
.highlight .gr {
  color: #960050;
}
.highlight .gt {
  color: #960050;
}
.highlight .gd {
  color: #49483e;
}
.highlight .gi {
  color: #49483e;
}
.highlight .ge {
  color: #49483e;
}
.highlight .kc {
  color: #66d9ef;
}
.highlight .kd {
  color: #66d9ef;
}
.highlight .kr {
  color: #66d9ef;
}
.highlight .no {
  color: #66d9ef;
}
.highlight .kt {
  color: #66d9ef;
}
.highlight .mf {
  color: #ae81ff;
}
.highlight .mh {
  color: #ae81ff;
}
.highlight .il {
  color: #ae81ff;
}
.highlight .mi {
  color: #ae81ff;
}
.highlight .mo {
  color: #ae81ff;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #ae81ff;
}
.highlight .sc {
  color: #ae81ff;
}
.highlight .se {
  color: #ae81ff;
}
.highlight .ss {
  color: #ae81ff;
}
.highlight .sd {
  color: #e6db74;
}
.highlight .s2 {
  color: #e6db74;
}
.highlight .sb {
  color: #e6db74;
}
.highlight .sh {
  color: #e6db74;
}
.highlight .si {
  color: #e6db74;
}
.highlight .sx {
  color: #e6db74;
}
.highlight .s1 {
  color: #e6db74;
}
.highlight .s {
  color: #e6db74;
}
.highlight .na {
  color: #a6e22e;
}
.highlight .nc {
  color: #a6e22e;
}
.highlight .nd {
  color: #a6e22e;
}
.highlight .ne {
  color: #a6e22e;
}
.highlight .nf {
  color: #a6e22e;
}
.highlight .vc {
  color: #ffffff;
}
.highlight .nn {
  color: #ffffff;
}
.highlight .nl {
  color: #ffffff;
}
.highlight .ni {
  color: #ffffff;
}
.highlight .bp {
  color: #ffffff;
}
.highlight .vg {
  color: #ffffff;
}
.highlight .vi {
  color: #ffffff;
}
.highlight .nv {
  color: #ffffff;
}
.highlight .w {
  color: #ffffff;
}
.highlight {
  color: #ffffff;
}
.highlight .n, .highlight .py, .highlight .nx {
  color: #ffffff;
}
.highlight .ow {
  color: #f92672;
}
.highlight .nt {
  color: #f92672;
}
.highlight .k, .highlight .kv {
  color: #f92672;
}
.highlight .kn {
  color: #f92672;
}
.highlight .kp {
  color: #f92672;
}
.highlight .o {
  color: #f92672;
}
    </style>
    <link href="stylesheets/screen.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" media="print" />
      <script src="javascripts/all.js"></script>
  </head>

  <body class="index" data-languages="[&quot;javascript&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" alt="Navbar" />
      </span>
    </a>
    <div class="toc-wrapper">
      <img src="images/logo.png" class="logo" alt="Logo" />
        <div class="lang-selector">
              <a href="#" data-language-name="javascript">JavaScript</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <ul id="toc" class="toc-list-h1">
          <li>
            <a href="#introduction" class="toc-h1 toc-link" data-title="Introduction">Introduction</a>
          </li>
          <li>
            <a href="#rtcuser-api-reference" class="toc-h1 toc-link" data-title="RTCUser API Reference">RTCUser API Reference</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#add-screen-capture-extension" class="toc-h2 toc-link" data-title="Add Screen Capture Extension">Add Screen Capture Extension</a>
                  </li>
                  <li>
                    <a href="#answer-call" class="toc-h2 toc-link" data-title="Answer Call">Answer Call</a>
                  </li>
                  <li>
                    <a href="#check-server" class="toc-h2 toc-link" data-title="Check Server">Check Server</a>
                  </li>
                  <li>
                    <a href="#check-support" class="toc-h2 toc-link" data-title="Check Support">Check Support</a>
                  </li>
                  <li>
                    <a href="#decline-call" class="toc-h2 toc-link" data-title="Decline Call">Decline Call</a>
                  </li>
                  <li>
                    <a href="#enable-stats" class="toc-h2 toc-link" data-title="Enable Stats">Enable Stats</a>
                  </li>
                  <li>
                    <a href="#enter-room" class="toc-h2 toc-link" data-title="Enter Room">Enter Room</a>
                  </li>
                  <li>
                    <a href="#get-devices" class="toc-h2 toc-link" data-title="Get Devices">Get Devices</a>
                  </li>
                  <li>
                    <a href="#hang-up-call" class="toc-h2 toc-link" data-title="Hang Up Call">Hang Up Call</a>
                  </li>
                  <li>
                    <a href="#inject-external-media-stream" class="toc-h2 toc-link" data-title="Inject External Media Stream">Inject External Media Stream</a>
                  </li>
                  <li>
                    <a href="#invoke-call" class="toc-h2 toc-link" data-title="Invoke Call">Invoke Call</a>
                  </li>
                  <li>
                    <a href="#in-screen-capture-available" class="toc-h2 toc-link" data-title="In Screen Capture Available">In Screen Capture Available</a>
                  </li>
                  <li>
                    <a href="#in-signed-in" class="toc-h2 toc-link" data-title="In Signed In">In Signed In</a>
                  </li>
                  <li>
                    <a href="#leave-room" class="toc-h2 toc-link" data-title="Leave Room">Leave Room</a>
                  </li>
                  <li>
                    <a href="#mute-audio" class="toc-h2 toc-link" data-title="Mute Audio">Mute Audio</a>
                  </li>
                  <li>
                    <a href="#mute-video" class="toc-h2 toc-link" data-title="Mute Video">Mute Video</a>
                  </li>
                  <li>
                    <a href="#send-metadata" class="toc-h2 toc-link" data-title="Send Metadata">Send Metadata</a>
                  </li>
                  <li>
                    <a href="#set-audio-device" class="toc-h2 toc-link" data-title="Set Audio Device">Set Audio Device</a>
                  </li>
                  <li>
                    <a href="#set-config" class="toc-h2 toc-link" data-title="Set Config">Set Config</a>
                  </li>
                  <li>
                    <a href="#set-ice-servers" class="toc-h2 toc-link" data-title="Set ICE Servers">Set ICE Servers</a>
                  </li>
                  <li>
                    <a href="#set-optional-config" class="toc-h2 toc-link" data-title="Set Optional Config">Set Optional Config</a>
                  </li>
                  <li>
                    <a href="#set-video-device" class="toc-h2 toc-link" data-title="Set Video Device">Set Video Device</a>
                  </li>
                  <li>
                    <a href="#start-broadcast" class="toc-h2 toc-link" data-title="Start Broadcast">Start Broadcast</a>
                  </li>
                  <li>
                    <a href="#start-preview" class="toc-h2 toc-link" data-title="Start Preview">Start Preview</a>
                  </li>
                  <li>
                    <a href="#stop-broadcast" class="toc-h2 toc-link" data-title="Stop Broadcast">Stop Broadcast</a>
                  </li>
                  <li>
                    <a href="#stop-preview" class="toc-h2 toc-link" data-title="Stop Preview">Stop Preview</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#example" class="toc-h1 toc-link" data-title="Example">Example</a>
          </li>
          <li>
            <a href="#faq" class="toc-h1 toc-link" data-title="FAQ">FAQ</a>
          </li>
          <li>
            <a href="#errors" class="toc-h1 toc-link" data-title="Errors">Errors</a>
          </li>
      </ul>
        <ul class="toc-footer">
            <li><a href='#'>Sign Up for a Developer Key</a></li>
            <li><a href='https://github.com/lord/slate'>Documentation Powered by Slate</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id='introduction'>Introduction</h1>
<p>WebRTC Public API Class Version 4.10.0.</p>
<h1 id='rtcuser-api-reference'>RTCUser API Reference</h1>
<p><code>RtcUser()</code> creates a new instance of the WebRTC public API class.</p>
<pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">rtcUser</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">RtcUser</span><span class="p">();</span>
</code></pre><h2 id='add-screen-capture-extension'>Add Screen Capture Extension</h2><h3 id='method'>Method</h3>
<p><code>addScreenCaptureExtension(name)</code> adds a Screen Capture Extension to the RtcUser.</p>
<pre class="highlight javascript tab-javascript"><code><span class="c1">// rtcUser instance of RtcUser</span>
<span class="kd">var</span> <span class="nx">name</span> <span class="o">=</span> <span class="s1">'nanoScreenCapture'</span><span class="p">;</span>
<span class="nx">rtcUser</span><span class="p">.</span><span class="nx">addScreenCaptureExtension</span><span class="p">(</span><span class="nx">name</span><span class="p">);</span>
</code></pre><h3 id='parameters'>Parameters</h3>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>name</td>
<td>string</td>
<td>The name of the screen capture extension.</td>
</tr>
</tbody></table>
<h2 id='answer-call'>Answer Call</h2>
<p><code>answerCall(remoteUserId)</code> answers a call with another user.</p>
<pre class="highlight javascript tab-javascript"><code><span class="c1">// rtcUser instance of RtcUser</span>
<span class="kd">var</span> <span class="nx">remoteUserId</span> <span class="o">=</span> <span class="s1">'49647969'</span><span class="p">;</span>
<span class="nx">rtcUser</span><span class="p">.</span><span class="nx">answerCall</span><span class="p">(</span><span class="nx">remoteUserId</span><span class="p">);</span>
</code></pre><h3 id='parameters-2'>Parameters</h3>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>remoteUserId</td>
<td>string</td>
<td>The remote user id of the other user.</td>
</tr>
</tbody></table>
<h2 id='check-server'>Check Server</h2>
<p><code>checkServer(server)</code> checks the state of a webrtc server.</p>
<pre class="highlight javascript tab-javascript"><code><span class="c1">// rtcUser instance of RtcUser</span>
<span class="kd">var</span> <span class="nx">server</span> <span class="o">=</span> <span class="s1">'https://rtc-lb.nanocosmos.de/p/webrtc'</span>
<span class="nx">rtcUser</span><span class="p">.</span><span class="nx">checkServer</span><span class="p">(</span><span class="nx">server</span><span class="p">);</span>
</code></pre><h3 id='parameters-3'>Parameters</h3>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>server</td>
<td>string</td>
<td>The url of the server.</td>
</tr>
</tbody></table>
<h3 id='fired-events'>Fired Events</h3>
<ul>
<li>???</li>
</ul>
<h2 id='check-support'>Check Support</h2>
<p><code>checkSupport()</code> checks if nanoStream WebRTC is supported by current browser.</p>
<pre class="highlight javascript tab-javascript"><code><span class="nx">RtcUser</span><span class="p">.</span><span class="nx">checkSupport</span><span class="p">();</span>
</code></pre><h2 id='decline-call'>Decline Call</h2>
<p><code>declineCall(remoteUserId)</code> declines a call with another user.</p>
<pre class="highlight javascript tab-javascript"><code><span class="c1">// rtcUser instance of RtcUser</span>
<span class="kd">var</span> <span class="nx">remoteUserId</span> <span class="o">=</span> <span class="s1">'49647969'</span><span class="p">;</span>
<span class="nx">rtcUser</span><span class="p">.</span><span class="nx">declineCall</span><span class="p">(</span><span class="nx">remoteUserId</span><span class="p">);</span>
</code></pre><h3 id='parameters-4'>Parameters</h3>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>remoteUserId</td>
<td>string</td>
<td>The remote user id of the other user.</td>
</tr>
</tbody></table>
<h3 id='fired-events-2'>Fired Events</h3>
<ul>
<li>???</li>
</ul>
<h2 id='enable-stats'>Enable Stats</h2>
<p><code>enableStats( [enable] [, interval])</code> enables to receive webrtc stats in a given time interval.</p>
<pre class="highlight javascript tab-javascript"><code><span class="c1">// rtcUser instance of RtcUser</span>
<span class="nx">rtcUser</span><span class="p">.</span><span class="nx">enableStats</span><span class="p">();</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="c1">// rtcUser instance of RtcUser</span>
<span class="kd">var</span> <span class="nx">enable</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
<span class="nx">rtcUser</span><span class="p">.</span><span class="nx">enableStats</span><span class="p">(</span><span class="nx">enable</span><span class="p">);</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="c1">// rtcUser instance of RtcUser</span>
<span class="kd">var</span> <span class="nx">enable</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">interval</span> <span class="o">=</span> <span class="mi">5000</span><span class="p">;</span>
<span class="nx">rtcUser</span><span class="p">.</span><span class="nx">enableStats</span><span class="p">(</span><span class="nx">enable</span><span class="p">,</span> <span class="nx">interval</span><span class="p">);</span>
</code></pre><h3 id='parameters-5'>Parameters</h3>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Argument</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>enable</td>
<td>boolean</td>
<td>&lt;optional&gt;</td>
<td>true</td>
<td>A flag to enable webrtc stats.</td>
</tr>
<tr>
<td>interval</td>
<td>number</td>
<td>&lt;optional&gt;</td>
<td>1000</td>
<td>The interval time in milliseconds.</td>
</tr>
</tbody></table>
<h3 id='fired-events-3'>Fired Events</h3>
<ul>
<li><code>ReceivedWebRTCStats</code></li>
</ul>
<h2 id='enter-room'>Enter Room</h2>
<p><code>enterRoom()</code> connects to the webrtc server and enters the specified room.</p>
<pre class="highlight javascript tab-javascript"><code><span class="c1">// rtcUser instance of RtcUser</span>
<span class="nx">rtcUser</span><span class="p">.</span><span class="nx">enterRoom</span><span class="p">();</span>
</code></pre><h3 id='parameters-6'>Parameters</h3>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Argument</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>enable</td>
<td>boolean</td>
<td>&lt;optional&gt;</td>
<td>true</td>
<td>A flag to enable webrtc stats.</td>
</tr>
<tr>
<td>interval</td>
<td>number</td>
<td>&lt;optional&gt;</td>
<td>1000</td>
<td>The interval time in milliseconds.</td>
</tr>
</tbody></table>
<h3 id='fired-events-4'>Fired Events</h3>
<ul>
<li><code>EnterRoomSuccess</code></li>
<li><code>EnterRoomError</code></li>
</ul>
<h2 id='get-devices'>Get Devices</h2>
<p><code>getDevices(mediaIndexOrId)</code> gets all connected local video and audio devices</p>
<pre class="highlight javascript tab-javascript"><code><span class="c1">// rtcUser instance of RtcUser</span>
<span class="kd">var</span> <span class="nx">mediaId</span> <span class="o">=</span> <span class="s1">'local'</span><span class="p">;</span>
<span class="nx">rtcUser</span><span class="p">.</span><span class="nx">getDevices</span><span class="p">(</span><span class="nx">mediaId</span><span class="p">);</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">mediaIndex</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
<span class="nx">rtcUser</span><span class="p">.</span><span class="nx">getDevices</span><span class="p">(</span><span class="nx">mediaIndex</span><span class="p">);</span>
</code></pre><h3 id='parameters-7'>Parameters</h3>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>mediaIndexOrId</td>
<td>string \</td>
<td>number</td>
</tr>
</tbody></table>
<h3 id='fired-events-5'>Fired Events</h3>
<ul>
<li>???</li>
</ul>
<h2 id='hang-up-call'>Hang Up Call</h2>
<p><code>hangUpCall(remoteUserId)</code> hangs up a call with another user.</p>
<pre class="highlight javascript tab-javascript"><code><span class="c1">// rtcUser instance of RtcUser</span>
<span class="kd">var</span> <span class="nx">remoteUserId</span> <span class="o">=</span> <span class="s1">'49647969'</span><span class="p">;</span>
<span class="nx">rtcUser</span><span class="p">.</span><span class="nx">hangUpCall</span><span class="p">(</span><span class="nx">remoteUserId</span><span class="p">);</span>
</code></pre><h3 id='parameters-8'>Parameters</h3>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>remoteUserId</td>
<td>string</td>
<td>The remote user id of the other user.</td>
</tr>
</tbody></table>
<h2 id='inject-external-media-stream'>Inject External Media Stream</h2>
<p><code>injectExternalMediaStream(config)</code> mixes tracks (currently only audio) of an external MediaStream into the currently previewed local stream.</p>
<pre class="highlight javascript tab-javascript"><code><span class="c1">// rtcUser instance of RtcUser</span>
<span class="c1">// externalStream instance of MediaStream (https://developer.mozilla.org/de/docs/Web/API/MediaStream) </span>
<span class="kd">var</span> <span class="nx">data</span> <span class="o">=</span> <span class="p">{</span><span class="na">stream</span><span class="p">:</span> <span class="nx">externalStream</span><span class="p">,</span> <span class="na">tracks</span><span class="p">:</span> <span class="p">[</span><span class="s1">'audio'</span><span class="p">]};</span>
<span class="nx">rtcUser</span><span class="p">.</span><span class="nx">injectExternalMediaStream</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
</code></pre><h3 id='parameters-9'>Parameters</h3>
<table>
    <thead>
        <tr>
            <th>Name</th>
            <th>Type</th>
            <th>Description</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td>config</td>
            <td>object</td>
            <td>Config object with info on what to mix in.</td>
        </tr>
        <tr>
            <td>&nbsp;</td>
            <td>&nbsp;</td>
            <td>
                <table>
                    <thead>
                        <tr>
                            <th>Name</th>
                            <th>Type</th>
                            <th>Description</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>stream</td>
                            <td>MediaStream</td>
                            <td>The MediaStream containing the track(s) to mix in.</td>
                        </tr>
                        <tr>
                            <td>tracks</td>
                            <td>Array[string]</td>
                            <td>Array with the types of tracks which should be injected (only 'audio' is supported at the moment).</td>
                        </tr>
                    </tbody>
                </table>
            </td>
        </tr>
    </tbody>
</table>
<h2 id='invoke-call'>Invoke Call</h2>
<p><code>invokeCall(remoteUserId)</code> invokes a call with another user.</p>
<pre class="highlight javascript tab-javascript"><code><span class="c1">// rtcUser instance of RtcUser</span>
<span class="kd">var</span> <span class="nx">remoteUserId</span> <span class="o">=</span> <span class="s1">'49647969'</span><span class="p">;</span>
<span class="nx">rtcUser</span><span class="p">.</span><span class="nx">invokeCall</span><span class="p">(</span><span class="nx">remoteUserId</span><span class="p">);</span>
</code></pre><h3 id='parameters-10'>Parameters</h3>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>remoteUserId</td>
<td>string</td>
<td>The remote user id of the other user.</td>
</tr>
</tbody></table>
<h2 id='in-screen-capture-available'>In Screen Capture Available</h2>
<p><code>isScreenCaptureAvailable()</code> checks if a Screen Capture Extension was added via <code>addScreenCaptureExtension()</code>.</p>
<pre class="highlight javascript tab-javascript"><code><span class="c1">// rtcUser instance of RtcUser</span>
<span class="kd">var</span> <span class="nx">name</span> <span class="o">=</span> <span class="s1">'nanoScreenCapture'</span><span class="p">;</span>
<span class="nx">rtcUser</span><span class="p">.</span><span class="nx">addScreenCaptureExtension</span><span class="p">(</span><span class="nx">name</span><span class="p">);</span>
<span class="c1">// wait until api has registered extension:</span>
<span class="nx">setTimeout</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">hasScreenCapture</span> <span class="o">=</span> <span class="nx">rtcUser</span><span class="p">.</span><span class="nx">isScreenCaptureAvailable</span><span class="p">();</span> 
<span class="p">},</span> <span class="mi">1000</span><span class="p">);</span>
</code></pre><h2 id='in-signed-in'>In Signed In</h2>
<p><code>isSignedIn() → {boolean}</code> checks if the <code>RtcUser</code> is connected with the webrtc server and signed in.</p>
<h3 id='returned-value'>Returned Value</h3>
<p><strong>Type</strong>: boolean</p>
<pre class="highlight javascript tab-javascript"><code><span class="c1">// rtcUser instance of RtcUser</span>
<span class="kd">var</span> <span class="nx">isSignedIn</span> <span class="o">=</span> <span class="nx">rtcUser</span><span class="p">.</span><span class="nx">isSignedIn</span><span class="p">();</span>
<span class="k">if</span> <span class="p">(</span><span class="nx">isSignedIn</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'signed in'</span><span class="p">);</span>
<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'not signed in'</span><span class="p">);</span>
<span class="p">}</span>
</code></pre><h2 id='leave-room'>Leave Room</h2>
<p><code>leaveRoom(forceSignOut)</code> disconnects from the webrtc server and leaves the specified room.</p>
<pre class="highlight javascript tab-javascript"><code><span class="c1">// rtcUser instance of RtcUser</span>
<span class="nx">rtcUser</span><span class="p">.</span><span class="nx">leaveRoom</span><span class="p">();</span>
</code></pre><h3 id='parameters-11'>Parameters</h3>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>forceSignOut</td>
<td>boolean</td>
<td>Force stopping the broadcast.</td>
</tr>
</tbody></table>
<h3 id='fired-events-6'>Fired Events</h3>
<ul>
<li><code>LeaveRoomSuccess</code></li>
<li><code>LeaveRoomError</code></li>
</ul>
<h2 id='mute-audio'>Mute Audio</h2>
<p><code>muteAudio(mediaIndexOrId, mute)</code> mutes / unmutes the audio of a local media controller.</p>
<pre class="highlight javascript tab-javascript"><code><span class="c1">// rtcUser instance of RtcUser</span>
<span class="kd">var</span> <span class="nx">mediaId</span> <span class="o">=</span> <span class="s1">'local'</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">mute</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
<span class="nx">rtcUser</span><span class="p">.</span><span class="nx">muteAudio</span><span class="p">(</span><span class="nx">mediaId</span><span class="p">,</span> <span class="nx">mute</span><span class="p">);</span>
</code></pre><h3 id='parameters-12'>Parameters</h3>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>mediaIndexOrId</td>
<td>string / number</td>
<td>The <code>mediaId</code> or the <code>mediaIndex</code> of a local media controller.</td>
</tr>
<tr>
<td>mute</td>
<td>boolean</td>
<td>Mute / unmute.</td>
</tr>
</tbody></table>
<h2 id='mute-video'>Mute Video</h2>
<p><code>muteVideo(mediaIndexOrId, mute)</code> mutes/unmutes the video of a local media controller.</p>
<pre class="highlight javascript tab-javascript"><code><span class="c1">// rtcUser instance of RtcUser</span>
<span class="kd">var</span> <span class="nx">mediaId</span> <span class="o">=</span> <span class="s1">'local'</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">mute</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
<span class="nx">rtcUser</span><span class="p">.</span><span class="nx">muteVideo</span><span class="p">(</span><span class="nx">mediaId</span><span class="p">,</span> <span class="nx">mute</span><span class="p">);</span>
</code></pre><h3 id='parameters-13'>Parameters</h3>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>mediaIndexOrId</td>
<td>string / number</td>
<td>The <code>mediaId</code> or the <code>mediaIndex</code> of a local media controller.</td>
</tr>
<tr>
<td>mute</td>
<td>boolean</td>
<td>Mute / unmute.</td>
</tr>
</tbody></table>
<h2 id='send-metadata'>Send Metadata</h2>
<p><code>sendMetaData(handlerName, jsonValues)</code> add live meta data to a broadcast stream.</p>
<pre class="highlight javascript tab-javascript"><code><span class="c1">// rtcUser instance of RtcUser</span>
<span class="nx">rtcUser</span><span class="p">.</span><span class="nx">sendMetaData</span><span class="p">(</span><span class="s1">'onMetaData'</span><span class="p">,</span> <span class="p">{</span><span class="na">myString</span><span class="p">:</span> <span class="s2">"hello"</span><span class="p">,</span> <span class="na">myInteger</span><span class="p">:</span> <span class="mi">1234</span><span class="p">});</span>
</code></pre><h3 id='parameters-14'>Parameters</h3>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>handlerName</td>
<td>&#39;onMetaData&#39; / &#39;onCuePoint&#39;</td>
<td>Name of the meta data handler. Other types are not supported.</td>
</tr>
<tr>
<td>jsonValues</td>
<td>object</td>
<td>The data to be sent. Parameter can contain a maximum object depth of 6.</td>
</tr>
</tbody></table>
<h2 id='set-audio-device'>Set Audio Device</h2>
<p><code>setAudioDevice(mediaIndexOrId, config)</code> sets the input audio device for a local media controller.</p>
<pre class="highlight javascript tab-javascript"><code><span class="c1">// rtcUser instance of RtcUser</span>
<span class="kd">var</span> <span class="nx">mediaId</span> <span class="o">=</span> <span class="s1">'local'</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">config</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">device</span><span class="p">:</span> <span class="mi">0</span>
<span class="p">};</span>
<span class="nx">rtcUser</span><span class="p">.</span><span class="nx">setAudioDevice</span><span class="p">(</span><span class="nx">mediaId</span><span class="p">,</span> <span class="nx">config</span><span class="p">);</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="c1">// rtcUser instance of RtcUser</span>
<span class="kd">var</span> <span class="nx">mediaIndex</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">config</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">device</span><span class="p">:</span> <span class="mi">0</span>
<span class="p">};</span>
<span class="nx">rtcUser</span><span class="p">.</span><span class="nx">setAudioDevice</span><span class="p">(</span><span class="nx">mediaIndex</span><span class="p">,</span> <span class="nx">config</span><span class="p">);</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="c1">// rtcUser instance of RtcUser</span>
<span class="kd">var</span> <span class="nx">mediaId</span> <span class="o">=</span> <span class="s1">'local'</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">config</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">device</span><span class="p">:</span> <span class="kc">true</span> <span class="c1">// auto device</span>
<span class="p">};</span>
<span class="nx">rtcUser</span><span class="p">.</span><span class="nx">setAudioDevice</span><span class="p">(</span><span class="nx">mediaId</span><span class="p">,</span> <span class="nx">config</span><span class="p">);</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="c1">// rtcUser instance of RtcUser</span>
<span class="kd">var</span> <span class="nx">mediaIndex</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">config</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">device</span><span class="p">:</span> <span class="kc">false</span> <span class="c1">// no video</span>
<span class="p">};</span>
<span class="nx">rtcUser</span><span class="p">.</span><span class="nx">setAudioDevice</span><span class="p">(</span><span class="nx">mediaIndex</span><span class="p">,</span> <span class="nx">config</span><span class="p">);</span>
</code></pre><h3 id='parameters-15'>Parameters</h3>
<table>
    <thead>
        <tr>
            <th>Name</th>
            <th>Type</th>
            <th>Description</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td>mediaIndexOrId</td>
            <td>string / number</td>
            <td>The mediaId or the mediaIndex of a local media controller.</td>
        </tr>
        <tr>
            <td>config</td>
            <td>object</td>
            <td>The config object.</td>
        </tr>
        <tr>
            <td>&nbsp;</td>
            <td>&nbsp;</td>
            <td>
                <table>
                    <thead>
                        <tr>
                            <th>Name</th>
                            <th>Type</th>
                            <th>Description</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>device</td>
                            <td>boolean | number</td>
                            <td>The value of the audio device, possible values: true (auto device), false (no audio), number (index of the audio device).</td>
                        </tr>
                    </tbody>
                </table>
            </td>
        </tr>
    </tbody>
</table>
<h2 id='set-config'>Set Config</h2>
<p><code>setConfig(server, userName, room [, token], serverUserName, serverPassword [, bintuApiKey])</code> sets the config for the RtcUser.</p>
<pre class="highlight javascript tab-javascript"><code><span class="c1">// rtcUser instance of RtcUser</span>
<span class="kd">var</span> <span class="nx">server</span> <span class="o">=</span> <span class="s1">'https://rtc-lb.nanocosmos.de/p/1'</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">userName</span> <span class="o">=</span> <span class="s1">'WebrtcChatter'</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">room</span> <span class="o">=</span> <span class="s1">'myChatRoom'</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">token</span> <span class="o">=</span> <span class="s1">'token-123'</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">serverUserName</span> <span class="o">=</span> <span class="s1">'username'</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">serverPassword</span> <span class="o">=</span> <span class="s1">'password'</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">bintuApiKey</span> <span class="o">=</span> <span class="s1">'awdegfq3490puerg2w54zj2p0w4h46zphm694i0796'</span><span class="p">;</span>
<span class="nx">rtcUser</span><span class="p">.</span><span class="nx">setConfig</span><span class="p">(</span><span class="nx">server</span><span class="p">,</span> <span class="nx">userName</span><span class="p">,</span> <span class="nx">room</span><span class="p">,</span> <span class="nx">token</span><span class="p">,</span> <span class="nx">serverUserName</span><span class="p">,</span> <span class="nx">serverPassword</span><span class="p">,</span> <span class="nx">bintuApiKey</span><span class="p">);</span>
</code></pre><h3 id='parameters-16'>Parameters</h3>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Argument</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>server</td>
<td>string</td>
<td></td>
<td>The url to the webrtc server.</td>
</tr>
<tr>
<td>userName</td>
<td>string</td>
<td></td>
<td>The name of the RtcUser.</td>
</tr>
<tr>
<td>room</td>
<td>string</td>
<td></td>
<td>The room to join.</td>
</tr>
<tr>
<td>token</td>
<td>string</td>
<td>&lt;optional&gt;</td>
<td>The name of the RtcUser.</td>
</tr>
<tr>
<td>serverUserName</td>
<td>string</td>
<td></td>
<td>The username credential for the server.</td>
</tr>
<tr>
<td>serverPassword</td>
<td>string</td>
<td></td>
<td>The password credential for the server.</td>
</tr>
<tr>
<td>bintuApiKey</td>
<td>string</td>
<td>&lt;optional&gt;</td>
<td>The bintu apikey for authentication.</td>
</tr>
</tbody></table>
<h2 id='set-ice-servers'>Set ICE Servers</h2>
<p><code>setIceServers(iceServers)</code> sets an array of turn/stun-servers for the peer-to-peer connection.</p>
<pre class="highlight javascript tab-javascript"><code><span class="c1">// rtcUser instance of RtcUser</span>
<span class="kd">var</span> <span class="nx">iceServers</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">{</span>
        <span class="na">urls</span><span class="p">:</span> <span class="p">[</span>
            <span class="s1">'turn:turn.myTurnServer.net:80?transport=udp'</span>
        <span class="p">],</span>
        <span class="na">username</span><span class="p">:</span> <span class="s1">'username'</span><span class="p">,</span>
        <span class="na">credential</span><span class="p">:</span> <span class="s1">'password'</span>
    <span class="p">},</span>
    <span class="p">{</span>
        <span class="na">urls</span><span class="p">:</span> <span class="p">[</span>
            <span class="s1">'turn:turn.myTurnServer.net:80?transport=udp'</span>
        <span class="p">],</span>
        <span class="na">username</span><span class="p">:</span> <span class="s1">'username'</span><span class="p">,</span>
        <span class="na">credential</span><span class="p">:</span> <span class="s1">'password'</span>
    <span class="p">},</span>
    <span class="p">{</span>
        <span class="na">urls</span><span class="p">:</span> <span class="p">[</span>
            <span class="s1">'stun:stun.l.google.com:19302'</span>
        <span class="p">]</span>
    <span class="p">}</span>
<span class="p">];</span>
<span class="nx">rtcUser</span><span class="p">.</span><span class="nx">setIceServers</span><span class="p">(</span><span class="nx">iceServers</span><span class="p">);</span>
</code></pre><h3 id='parameters-17'>Parameters</h3>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Argument</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>iceServers</td>
<td>Array[object]</td>
<td></td>
<td>The ice servers object.</td>
</tr>
<tr>
<td>iceServers[].urls</td>
<td>Array[string]</td>
<td></td>
<td>An array of urls.</td>
</tr>
<tr>
<td>iceServers[].username</td>
<td>string</td>
<td>&lt;optional&gt;</td>
<td>The username for the ice servers if required.</td>
</tr>
<tr>
<td>iceServers[].credential</td>
<td>string</td>
<td>&lt;optional&gt;</td>
<td>The password for the ice servers if required.</td>
</tr>
</tbody></table>
<h2 id='set-optional-config'>Set Optional Config</h2>
<p><code>setOptionalConfig(config)</code> sets optional config for the RtcUser.</p>
<pre class="highlight javascript tab-javascript"><code><span class="c1">// rtcUser instance of RtcUser</span>
<span class="kd">var</span> <span class="nx">config</span> <span class="o">=</span> <span class="p">{</span> 
    <span class="na">codecs</span><span class="p">:</span> <span class="p">{</span>
        <span class="na">videoCodec</span><span class="p">:</span> <span class="s1">'H264'</span>
    <span class="p">},</span>
    <span class="na">bitrates</span><span class="p">:</span> <span class="p">{</span>                
        <span class="na">videoSendInitialBitrate</span><span class="p">:</span> <span class="mi">500</span><span class="p">,</span>
        <span class="na">videoSendBitrate</span><span class="p">:</span> <span class="mi">1000</span>
    <span class="p">}</span>
<span class="p">};</span>
<span class="nx">rtcUser</span><span class="p">.</span><span class="nx">setOptionalConfig</span><span class="p">(</span><span class="nx">config</span><span class="p">);</span>
</code></pre><h3 id='parameters-18'>Parameters</h3>
<table>
    <thead>
        <tr>
            <th>Name</th>
            <th>Type</th>
            <th>Description</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td>config</td>
            <td>object</td>
            <td>The config object.</td>
        </tr>
        <tr>
            <td>&nbsp;</td>
            <td>&nbsp;</td>
            <td>
                <table>
                    <thead>
                        <tr>
                            <th>Name</th>
                            <th>Type</th>
                            <th>Description</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>codecs</td>
                            <td>object</td>
                            <td>The codec object.</td>
                        </tr>
                        <tr>
                            <td>&nbsp;</td>
                            <td>&nbsp;</td>
                            <td>
                                <table>
                                    <thead>
                                        <tr>
                                            <th>Name</th>
                                            <th>Type</th>
                                            <th>Default</th>
                                            <th>Description</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td>videoCodec</td>
                                            <td>string</td>
                                            <td>'H264'</td>
                                            <td>The video codec to use (possible values: 'VP8', 'VP9', 'H264').</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </td>
                        </tr>
                        <tr>
                            <td>bitrates</td>
                            <td>object</td>
                            <td>The codec object.</td>
                        </tr>
                                                <tr>
                            <td>&nbsp;</td>
                            <td>&nbsp;</td>
                            <td>
                                <table>
                                    <thead>
                                        <tr>
                                            <th>Name</th>
                                            <th>Type</th>
                                            <th>Default</th>
                                            <th>Description</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td>videoSendInitialBitrate</td>
                                            <td>string</td>
                                            <td>0</td>
                                            <td>The webrtc initial bitrate.</td>
                                        </tr>
                                        <tr>
                                            <td>videoSendBitrate</td>
                                            <td>string</td>
                                            <td>0</td>
                                            <td>The webrtc bitrate.</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </td>
        </tr>
    </tbody>
</table>
<h2 id='set-video-device'>Set Video Device</h2>
<p><code>setVideoDevice(mediaIndexOrId, config)</code> sets the input video device with config for a local media controller.</p>
<pre class="highlight javascript tab-javascript"><code><span class="c1">// rtcUser instance of RtcUser</span>
<span class="kd">var</span> <span class="nx">mediaId</span> <span class="o">=</span> <span class="s1">'local'</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">config</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">device</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="na">width</span><span class="p">:</span> <span class="mi">640</span><span class="p">,</span>
    <span class="na">height</span><span class="p">:</span> <span class="mi">360</span><span class="p">,</span>
    <span class="na">framerate</span><span class="p">:</span> <span class="mi">30</span>
<span class="p">};</span>
<span class="nx">rtcUser</span><span class="p">.</span><span class="nx">setVideoDevice</span><span class="p">(</span><span class="nx">mediaId</span><span class="p">,</span> <span class="nx">config</span><span class="p">);</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="c1">// rtcUser instance of RtcUser</span>
<span class="kd">var</span> <span class="nx">mediaIndex</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">config</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">device</span><span class="p">:</span> <span class="mi">0</span>
<span class="p">};</span>
<span class="nx">rtcUser</span><span class="p">.</span><span class="nx">setVideoDevice</span><span class="p">(</span><span class="nx">mediaIndex</span><span class="p">,</span> <span class="nx">config</span><span class="p">);</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="c1">// rtcUser instance of RtcUser</span>
<span class="kd">var</span> <span class="nx">mediaId</span> <span class="o">=</span> <span class="s1">'local'</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">config</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">device</span><span class="p">:</span> <span class="kc">true</span> <span class="c1">// auto device</span>
<span class="p">};</span>
<span class="nx">rtcUser</span><span class="p">.</span><span class="nx">setVideoDevice</span><span class="p">(</span><span class="nx">mediaId</span><span class="p">,</span> <span class="nx">config</span><span class="p">);</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="c1">// rtcUser instance of RtcUser</span>
<span class="kd">var</span> <span class="nx">mediaIndex</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">config</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">device</span><span class="p">:</span> <span class="kc">false</span> <span class="c1">// no video</span>
<span class="p">};</span>
<span class="nx">rtcUser</span><span class="p">.</span><span class="nx">setVideoDevice</span><span class="p">(</span><span class="nx">mediaIndex</span><span class="p">,</span> <span class="nx">config</span><span class="p">);</span>
</code></pre><h3 id='parameters-19'>Parameters</h3>
<table>
    <thead>
        <tr>
            <th>Name</th>
            <th>Type</th>
            <th>Description</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td>mediaIndexOrId</td>
            <td>string | number</td>
            <td>The mediaId or the mediaIndex of a local media controller.</td>
        </tr>
        <tr>
            <td>config</td>
            <td>object</td>
            <td>The config object.</td>
        </tr>
        <tr>
            <td>&nbsp;</td>
            <td>&nbsp;</td>
            <td>
                <table>
                    <thead>
                        <tr>
                            <th>Name</th>
                            <th>Type</th>
                            <th>Argument</th>
                            <th>Description</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>device</td>
                            <td>boolean / number</td>
                            <td>&nbsp;</td>
                            <td>The value of the video device, possible values: true (auto device), false (no video), number (index of the video device).</td>
                        </tr>
                        <tr>
                            <td>width</td>
                            <td>number</td>
                            <td>optional</td>
                            <td>The input width (only if device will be set by index).</td>
                        </tr>
                        <tr>
                            <td>height</td>
                            <td>number</td>
                            <td>optional</td>
                            <td>The input height (only if device will be set by index).</td>
                        </tr>
                        <tr>
                            <td>framerate</td>
                            <td>number</td>
                            <td>optional</td>
                            <td>The input framerate (only if device will be set by index).</td>
                        </tr>
                    </tbody>
                </table>
            </td>
        </tr>
    </tbody>
</table>
<h2 id='start-broadcast'>Start Broadcast</h2>
<p><code>startBroadcast(config)</code> starts a broadcast to a rtmp ingest with transcoding configs.</p>
<pre class="highlight javascript tab-javascript"><code><span class="c1">// rtcUser instance of RtcUser</span>
<span class="kd">var</span> <span class="nx">broadcastConfig</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">transcodingTargets</span><span class="p">:</span> <span class="p">{</span>
        <span class="na">output</span><span class="p">:</span> <span class="s1">'rtmp://myIngestServer.com:1935/live/webrtcBroadcast'</span><span class="p">,</span>
        <span class="na">videobitrate</span><span class="p">:</span> <span class="mi">500000</span><span class="p">,</span>
        <span class="na">audiobitrate</span><span class="p">:</span> <span class="mi">64000</span><span class="p">,</span>
        <span class="na">framerate</span><span class="p">:</span> <span class="mi">30</span><span class="p">,</span>
        <span class="na">dropframes</span><span class="p">:</span> <span class="s1">'0'</span><span class="p">,</span>
        <span class="na">icecast_audio</span><span class="p">:</span> <span class="s1">'0'</span><span class="p">,</span>
        <span class="na">rtmpconnectinfo</span><span class="p">:</span> <span class="p">{</span><span class="s2">"key1"</span><span class="p">:</span><span class="s2">"value1"</span><span class="p">,</span><span class="s2">"key2"</span><span class="p">:</span><span class="mf">7.5</span><span class="p">,</span><span class="s2">"key3"</span><span class="p">:</span><span class="kc">false</span><span class="p">}</span> 
    <span class="p">}</span>
<span class="p">};</span>
<span class="nx">rtcUser</span><span class="p">.</span><span class="nx">startBroadcast</span><span class="p">(</span><span class="nx">broadcastConfig</span><span class="p">);</span>
</code></pre><h3 id='parameters-20'>Parameters</h3>
<table>
    <thead>
        <tr>
            <th>Name</th>
            <th>Type</th>
            <th>Description</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td>config</td>
            <td>object</td>
            <td>The config object.</td>
        </tr>
        <tr>
            <td>&nbsp;</td>
            <td>&nbsp;</td>
            <td>
                <table>
                    <thead>
                        <tr>
                            <th>Name</th>
                            <th>Type</th>
                            <th>Description</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>transcodingTargets</td>
                            <td>object</td>
                            <td>The transcoding config object.</td>
                        </tr>
                        <tr>
                            <td>&nbsp;</td>
                            <td>&nbsp;</td>
                            <td>
                                <table>
                                    <thead>
                                        <tr>
                                            <th>Name</th>
                                            <th>Type</th>
                                            <th>Argument</th>
                                            <th>Default</th>
                                            <th>Description</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td>output</td>
                                            <td>string</td>
                                            <td>&nbsp;</td>
                                            <td>&nbsp;</td>
                                            <td>The rtmp ingest url for the first stream.</td>
                                        </tr>
                                        <tr>
                                            <td>streamname</td>
                                            <td>string</td>
                                            <td>optional</td>
                                            <td>null</td>
                                            <td>Optional streamname. Use if you want to pass output and streamname seperately.</td>
                                        </tr>
                                        <tr>
                                            <td>videobitrate</td>
                                            <td>number</td>
                                            <td>optional</td>
                                            <td>null</td>
                                            <td>The video bitrate for the transcode of the first stream.</td>
                                        </tr>
                                        <tr>
                                            <td>audiobitrate</td>
                                            <td>number</td>
                                            <td>optional</td>
                                            <td>null</td>
                                            <td>The audio bitrate for the transcode of the first stream.</td>
                                        </tr>
                                        <tr>
                                            <td>framerate</td>
                                            <td>number</td>
                                            <td>optional</td>
                                            <td>null</td>
                                            <td>The framerate for the transcode of the first stream.</td>
                                        </tr>
                                        <tr>
                                            <td>dropframes</td>
                                            <td>string</td>
                                            <td>optional</td>
                                            <td>null</td>
                                            <td>A flag to enable frame dropping (possible values: '0', '1').</td>
                                        </tr>
                                        <tr>
                                            <td>h264passthrough</td>
                                            <td>string</td>
                                            <td>optional</td>
                                            <td>null</td>
                                            <td>A flag to enable transmuxing without transcoding if video codec 'H264' is used (possible values: '0', '1').</td>
                                        </tr>
                                        <tr>
                                            <td>icecast_audio</td>
                                            <td>string</td>
                                            <td>optional</td>
                                            <td>null</td>
                                            <td>A flag to enable embedding of an icecast audio stream, normal audio will be ignored (possible values: '0', '1').</td>
                                        </tr>
                                        <tr>
                                            <td>rtmpconnectinfo</td>
                                            <td>string</td>
                                            <td>optional</td>
                                            <td>null</td>
                                            <td>Data to be send with the rtmp streams "onconnect". Pass flat object with key value pairs, hierarchies are not supported.</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </td>
        </tr>
    </tbody>
</table>
<h3 id='fired-events-7'>Fired Events</h3>
<ul>
<li><code>StartBroadcastSuccess</code></li>
<li><code>StartBroadcastError</code></li>
</ul>
<h2 id='start-preview'>Start Preview</h2>
<p><code>startPreview(mediaIndexOrId, videoDeviceConfig, audioDeviceConfig, elementId, useWebView)</code> starts the preview of a local media controller.</p>
<pre class="highlight javascript tab-javascript"><code><span class="c1">// rtcUser instance of RtcUser</span>
<span class="kd">var</span> <span class="nx">mediaId</span> <span class="o">=</span> <span class="s1">'local'</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">videoDeviceConfig</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">device</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="na">width</span><span class="p">:</span> <span class="mi">640</span><span class="p">,</span>
    <span class="na">height</span><span class="p">:</span> <span class="mi">360</span><span class="p">,</span>
    <span class="na">framerate</span><span class="p">:</span> <span class="mi">30</span><span class="p">,</span>
    <span class="na">source</span><span class="p">:</span> <span class="s1">'camera'</span>
<span class="p">};</span>
<span class="kd">var</span> <span class="nx">audioDeviceConfig</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">device</span><span class="p">:</span> <span class="mi">0</span>
<span class="p">};</span>
<span class="kd">var</span> <span class="nx">useWebView</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
<span class="nx">rtcUser</span><span class="p">.</span><span class="nx">startPreview</span><span class="p">(</span><span class="nx">mediaId</span><span class="p">,</span> <span class="nx">videoDeviceConfig</span><span class="p">,</span> <span class="nx">audioDeviceConfig</span><span class="p">,</span> <span class="nx">useWebView</span><span class="p">);</span>
</code></pre><h3 id='parameters-21'>Parameters</h3>
<table>
    <thead>
        <tr>
            <th>Name</th>
            <th>Type</th>
            <th>Description</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td>mediaIndexOrId</td>
            <td>string / number</td>
            <td>The mediaId or the mediaIndex of a local media controller.</td>
        </tr>
        <tr>
            <td>videoDeviceConfig</td>
            <td>object</td>
            <td>The video config object.</td>
        </tr>
        <tr>
            <td>&nbsp;</td>
            <td>&nbsp;</td>
            <td>
                <table>
                    <thead>
                        <tr>
                            <th>Name</th>
                            <th>Type</th>
                            <th>Description</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>device</td>
                            <td>int</td>
                            <td>Device id to use.</td>
                        </tr>
                        <tr>
                            <td>width</td>
                            <td>int</td>
                            <td>Video width.</td>
                        </tr>
                        <tr>
                            <td>height</td>
                            <td>int</td>
                            <td>Video height.</td>
                        </tr>
                        <tr>
                            <td>framerate</td>
                            <td>int</td>
                            <td>Video framerate.</td>
                        </tr>
                        <tr>
                            <td>source</td>
                            <td>String</td>
                            <td>The video source to be requested valid parameters: 'camera' | 'screen'.</td>
                        </tr>
                    </tbody>
                </table>
            </td>
        </tr>
        <tr>
            <td>audioDeviceConfig</td>
            <td>object</td>
            <td>The audio config object.</td>
        </tr>
        <tr>
            <td>&nbsp;</td>
            <td>&nbsp;</td>
            <td>
                <table>
                    <thead>
                        <tr>
                            <th>Name</th>
                            <th>Type</th>
                            <th>Description</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>device</td>
                            <td>int</td>
                            <td>Device id to use.</td>
                        </tr>
                    </tbody>
                </table>
            </td>
        </tr>
        <tr>
            <td>elementId</td>
            <td>string</td>
            <td>The id of a video element to pass in the requested stream directly.</td>
        </tr>
        <tr>
            <td>useWebView</td>
            <td>boolean</td>
            <td>A flag to indicate that a WebView is used; default value: false.</td>
        </tr>
    </tbody>
</table>
<h3 id='fired-events-8'>Fired Events</h3>
<ul>
<li><code>StartPreviewSuccess</code></li>
<li><code>StartPreviewError</code></li>
</ul>
<h2 id='stop-broadcast'>Stop Broadcast</h2>
<p><code>stopBroadcast(forceSignOut)</code> stop a running broadcast.</p>
<pre class="highlight javascript tab-javascript"><code><span class="c1">// rtcUser instance of RtcUser</span>
<span class="nx">rtcUser</span><span class="p">.</span><span class="nx">stopBroadcast</span><span class="p">();</span>
</code></pre><h3 id='parameters-22'>Parameters</h3>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>forceSignOut</td>
<td>boolean</td>
<td>Force stopping the broadcast.</td>
</tr>
</tbody></table>
<h3 id='fired-events-9'>Fired Events</h3>
<ul>
<li><code>StopBroadcastSuccess</code></li>
<li><code>StopBroadcastError</code></li>
</ul>
<h2 id='stop-preview'>Stop Preview</h2>
<p><code>stopPreview(mediaIndexOrId)</code> stops the preview of a local media controller.</p>
<pre class="highlight javascript tab-javascript"><code><span class="c1">// rtcUser instance of RtcUser</span>
<span class="nx">rtcUser</span><span class="p">.</span><span class="nx">stopBroadcast</span><span class="p">();</span>
</code></pre><h3 id='parameters-23'>Parameters</h3>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>mediaIndexOrId</td>
<td>string / number</td>
<td>The mediaId or the mediaIndex of a local media controller.</td>
</tr>
</tbody></table>
<h3 id='fired-events-10'>Fired Events</h3>
<ul>
<li><code>StopPreviewSuccess</code></li>
<li><code>StopPreviewError</code></li>
</ul>
<h1 id='example'>Example</h1><h1 id='faq'>FAQ</h1><h1 id='errors'>Errors</h1>
<aside class="notice">
This error section is stored in a separate file in <code>includes/_errors.md</code>. Slate allows you to optionally separate out your docs into many files...just save them to the <code>includes</code> folder and add them to the top of your <code>index.md</code>'s frontmatter. Files are included in the order listed.
</aside>

<p>The Kittn API uses the following error codes:</p>

<table><thead>
<tr>
<th>Error Code</th>
<th>Meaning</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>Bad Request -- Your request is invalid.</td>
</tr>
<tr>
<td>401</td>
<td>Unauthorized -- Your API key is wrong.</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden -- The kitten requested is hidden for administrators only.</td>
</tr>
<tr>
<td>404</td>
<td>Not Found -- The specified kitten could not be found.</td>
</tr>
<tr>
<td>405</td>
<td>Method Not Allowed -- You tried to access a kitten with an invalid method.</td>
</tr>
<tr>
<td>406</td>
<td>Not Acceptable -- You requested a format that isn&#39;t json.</td>
</tr>
<tr>
<td>410</td>
<td>Gone -- The kitten requested has been removed from our servers.</td>
</tr>
<tr>
<td>418</td>
<td>I&#39;m a teapot.</td>
</tr>
<tr>
<td>429</td>
<td>Too Many Requests -- You&#39;re requesting too many kittens! Slow down!</td>
</tr>
<tr>
<td>500</td>
<td>Internal Server Error -- We had a problem with our server. Try again later.</td>
</tr>
<tr>
<td>503</td>
<td>Service Unavailable -- We&#39;re temporarily offline for maintenance. Please try again later.</td>
</tr>
</tbody></table>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="javascript">JavaScript</a>
          </div>
      </div>
    </div>
  </body>
</html>
